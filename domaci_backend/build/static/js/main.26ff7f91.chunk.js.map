{"version":3,"sources":["components/ImePrezime.js","services/osobe.js","App.js","index.js"],"names":["ImePrezime","osoba","urediOsobu","brisiOsobu","imePrezime","adresa","id","onClick","osnovniUrl","axios","get","noviObjekt","post","put","delete","App","props","useState","uredi","postaviSignal","identifikator","postaviId","osobe","postaviPoruke","unosImePrezime","postaviUnos","unosAdrese","postaviAdresu","ispisiSve","postaviIspis","unosFilter","postaviFilter","useEffect","console","log","osobeServer","then","response","data","length","porukeZaIspis","filter","p","split","value","onChange","e","target","map","key","find","uredivanje","onSubmit","preventDefault","datum","Date","toISOString","novaOsoba","concat","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.26ff7f91.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst ImePrezime = ({osoba, urediOsobu, brisiOsobu}) => {\r\n    return (\r\n      <li>{osoba.imePrezime} ({osoba.adresa}) \r\n      <button id =\"edit\" onClick={urediOsobu}>Uredi</button>\r\n      <button id=\"brisi\" onClick={brisiOsobu}>Briši</button></li>\r\n    )\r\n  }\r\n\r\n  export default ImePrezime","import axios from 'axios'\r\nconst osnovniUrl = 'http://localhost:3001/api/osobe'\r\n\r\nconst dohvatiSve = () => {\r\n    return axios.get(osnovniUrl);\r\n}\r\n \r\nconst stvori = noviObjekt => {\r\n    return axios.post(osnovniUrl, noviObjekt)\r\n}\r\n \r\nconst osvjezi = (id, noviObjekt) => {\r\n    return axios.put(`${osnovniUrl}/${id}`, noviObjekt)\r\n}\r\n\r\nconst brisi = (id) => {\r\n    return axios.delete(`${osnovniUrl}/${id}`)\r\n}\r\n \r\nexport default {\r\n    dohvatiSve: dohvatiSve,\r\n    stvori: stvori,\r\n    osvjezi: osvjezi,\r\n    brisi: brisi\r\n}","import React, {useState,useEffect } from 'react'\r\nimport ImePrezime from './components/ImePrezime'\r\nimport osobeServer from './services/osobe'\r\nimport './index.css'\r\n\r\nconst App = (props) => {\r\n    // const { poruke } = props\r\n    const [uredi, postaviSignal]=useState(false)\r\n    const [identifikator,postaviId]=useState(0)\r\n    const [osobe, postaviPoruke] = useState([])\r\n    const [unosImePrezime,postaviUnos]=useState(\" \")\r\n    const [unosAdrese, postaviAdresu]=useState(\" \")\r\n    const [ispisiSve, postaviIspis] = useState(true)\r\n    const [unosFilter,postaviFilter]=useState(\"\")\r\n    // const [urediImePrezime,urediUnos]=useState(\"\")\r\n    \r\n    useEffect(() => {\r\n    console.log(\"Effect hook\");\r\n    // axios.get(\"http://localhost:3001/osobe\")\r\n    osobeServer.dohvatiSve().then((response=> {\r\n      console.log(\"Podaci učitani\");\r\n      postaviPoruke(response.data)\r\n    }))\r\n    },[])\r\n    console.log(\"Renderirano je\",osobe.length,\"objekata\")\r\n    \r\n    const porukeZaIspis = ispisiSve ? osobe : osobe.filter(p => p.imePrezime.split(\" \")[0] === unosFilter)\r\n    \r\n   \r\n    const novaPoruka = (e) => {\r\n        e.preventDefault()\r\n        console.log(\"Klik\",e.target);\r\n        const noviObjekt = {\r\n            imePrezime: unosImePrezime,\r\n            adresa:unosAdrese,\r\n            datum: new Date().toISOString(),\r\n            // vazno: Math.random() > 0.5\r\n          }\r\n          // axios.post(\"http://localhost:3001/osobe\",noviObjekt)\r\n          console.log(\"uredi\",uredi);\r\n          if(!uredi){\r\n          osobeServer.stvori(noviObjekt).then((response) =>{\r\n            console.log(response)\r\n            postaviPoruke(osobe.concat(response.data))\r\n            postaviUnos('')\r\n            postaviAdresu('')\r\n          })\r\n        }else{\r\n          const osoba=osobe.find(p => p.id === identifikator)\r\n\r\n          const novaOsoba={\r\n            ...osoba,\r\n            imePrezime:unosImePrezime,\r\n            adresa:unosAdrese\r\n          }\r\n          osobeServer.osvjezi(identifikator,novaOsoba).then((response) => { console.log(response);\r\n            postaviPoruke(osobe.map(p => p.id!== identifikator ? p : response.data ))\r\n            // postaviPoruke(osobe.concat(response.data))\r\n            postaviUnos('')\r\n            postaviAdresu('')\r\n            postaviSignal(false);\r\n    \r\n        })\r\n        }\r\n        \r\n    }\r\n    const promjenaUnosa = (e) => {\r\n       console.log(e.target.value);\r\n       postaviUnos(e.target.value);\r\n    }\r\n    const promjenaAdrese = (e) => {\r\n        console.log(e.target.value);\r\n        postaviAdresu(e.target.value);}\r\n    const promjenaFiltera = (e) => {\r\n        console.log(e.target.value);\r\n        postaviFilter(e.target.value); \r\n    }\r\n    const uredivanje = (id) => {\r\n      postaviSignal(true);\r\n      postaviId(id);\r\n      const osoba=osobe.find(p => p.id === id)\r\n      postaviUnos(osoba.imePrezime);\r\n      postaviAdresu(osoba.adresa);\r\n    \r\n      // const novaOsoba={\r\n      //   ...osoba,\r\n      //   imePrezime:unosImePrezime,\r\n      //   adresa:unosAdrese\r\n      // }\r\n    //   osobeServer.osvjezi(id,novaOsoba).then((response) => { console.log(response);\r\n    //     postaviPoruke(osobe.map(p => p.id!== id ? p : response.data ))\r\n\r\n    // })\r\n  }\r\n    const brisanjeOsobe = (id) => {\r\n      osobeServer.brisi(id).then(response => {\r\n        console.log(response);\r\n        postaviPoruke(osobe.filter(p => p.id !== id))\r\n      })\r\n    }\r\n    return (\r\n      <div>\r\n        <h1><b>Adresar</b></h1>\r\n        <input id=\"filter\" value={unosFilter} onChange={promjenaFiltera}></input><br></br>\r\n        <div><button onClick={() => postaviIspis(!ispisiSve)}>{ispisiSve ? \"Filtriraj\":\"Prikaži sve\"}\r\n\r\n        </button>\r\n\r\n        </div>\r\n        \r\n        <ul>\r\n        {\t\r\n            porukeZaIspis.map( osoba => \r\n              <ImePrezime key={osoba.id} osoba={osoba} urediOsobu ={()=>uredivanje(osoba.id)}brisiOsobu={()=>brisanjeOsobe(osoba.id)}/>\r\n            )\r\n        }\r\n        </ul>\r\n      \r\n        <h2>Novi kontakt</h2>\r\n        <form onSubmit={novaPoruka}>\r\n            <label >Ime i prezime:</label>\r\n            <input id=\"ime\" value={unosImePrezime} onChange={promjenaUnosa}/><br></br><br></br>\r\n            <label>Email adresa:</label>\r\n            <input id=\"email\" value={unosAdrese} onChange={promjenaAdrese}/><br></br><br></br>\r\n        <button type='submit'>Spremi</button>\r\n      </form>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ImePrezime from './components/ImePrezime'\nimport App from './App'\nimport './index.css'\n\n\n\n\n\n\n \nReactDOM.render(<App />,document.getElementById('root'))\n\n"],"sourceRoot":""}